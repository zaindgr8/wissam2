"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-client_node_modules_sanity_lib__chunks_index-d8cac52c_js"],{

/***/ "(app-client)/./node_modules/sanity/lib/_chunks/PaneItem-9d0095a8.js":
/*!**************************************************************!*\
  !*** ./node_modules/sanity/lib/_chunks/PaneItem-9d0095a8.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PaneItem\": function() { return /* binding */ PaneItem; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-client)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/* harmony import */ var _sanity_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sanity/icons */ \"(app-client)/./node_modules/@sanity/icons/dist/index.js\");\n/* harmony import */ var _sanity_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sanity/types */ \"(app-client)/./node_modules/sanity/node_modules/@sanity/types/lib/index.esm.js\");\n/* harmony import */ var _sanity_ui__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sanity/ui */ \"(app-client)/./node_modules/@sanity/ui/dist/index.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-client)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sanity__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sanity */ \"(app-client)/./node_modules/sanity/lib/index.esm.js\");\n/* harmony import */ var _desk_4e7be0ae_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./desk-4e7be0ae.js */ \"(app-client)/./node_modules/sanity/lib/_chunks/desk-4e7be0ae.js\");\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/omit.js */ \"(app-client)/./node_modules/lodash/omit.js\");\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_omit_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _sanity_util_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sanity/util/paths */ \"(app-client)/./node_modules/@sanity/util/lib/paths.esm.js\");\n/* harmony import */ var sanity_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sanity/router */ \"(app-client)/./node_modules/sanity/lib/router.esm.js\");\n\n\n\n\n\n\n\n\n\n\nconst getUnknownTypeFallback = (id, typeName) => ({\n  title: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"em\", {\n    children: [\"No schema found for type \", /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"code\", {\n      children: typeName\n    })]\n  }),\n  subtitle: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"em\", {\n    children: [\"Document: \", /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"code\", {\n      children: id\n    })]\n  }),\n  media: () => /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_icons__WEBPACK_IMPORTED_MODULE_7__.WarningOutlineIcon, {})\n});\nfunction MissingSchemaType(props) {\n  const {\n    layout,\n    value\n  } = props;\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_2__.SanityDefaultPreview, {\n    ...getUnknownTypeFallback(value._id, value._type),\n    layout\n  });\n}\nfunction getIconWithFallback(icon, schemaType, defaultIcon) {\n  if (icon === false) {\n    return false;\n  }\n  return icon || schemaType && schemaType.icon || defaultIcon || false;\n}\nfunction PaneItem(props) {\n  const {\n    icon,\n    id,\n    layout = \"default\",\n    pressed,\n    schemaType,\n    selected,\n    title,\n    value\n  } = props;\n  const schema = (0,sanity__WEBPACK_IMPORTED_MODULE_2__.useSchema)();\n  const documentPreviewStore = (0,sanity__WEBPACK_IMPORTED_MODULE_2__.useDocumentPreviewStore)();\n  const {\n    ChildLink\n  } = (0,_desk_4e7be0ae_js__WEBPACK_IMPORTED_MODULE_3__.usePaneRouter)();\n  const documentPresence = (0,sanity__WEBPACK_IMPORTED_MODULE_2__.useDocumentPresence)(id);\n  const hasSchemaType = Boolean(schemaType && schemaType.name && schema.get(schemaType.name));\n  const [clicked, setClicked] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const preview = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (value && (0,_sanity_types__WEBPACK_IMPORTED_MODULE_8__.isSanityDocument)(value)) {\n      if (!schemaType || !hasSchemaType) {\n        return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MissingSchemaType, {\n          value\n        });\n      }\n      return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_desk_4e7be0ae_js__WEBPACK_IMPORTED_MODULE_3__.PaneItemPreview, {\n        documentPreviewStore,\n        icon: getIconWithFallback(icon, schemaType, _sanity_icons__WEBPACK_IMPORTED_MODULE_7__.DocumentIcon),\n        layout,\n        schemaType,\n        value,\n        presence: documentPresence\n      });\n    }\n    return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_2__.SanityDefaultPreview, {\n      status: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_9__.Text, {\n        muted: true,\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_icons__WEBPACK_IMPORTED_MODULE_7__.ChevronRightIcon, {})\n      }),\n      icon: getIconWithFallback(icon, schemaType, _sanity_icons__WEBPACK_IMPORTED_MODULE_7__.FolderIcon),\n      layout,\n      title\n    });\n  }, [documentPreviewStore, hasSchemaType, icon, layout, schemaType, title, value, documentPresence]);\n  const Link = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => function LinkComponent(linkProps) {\n    return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ChildLink, {\n      ...linkProps,\n      childId: id\n    });\n  }, [ChildLink, id]);\n  const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => setClicked(true), []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => setClicked(false), [selected]);\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_2__.PreviewCard, {\n    __unstable_focusRing: true,\n    as: Link,\n    \"data-as\": \"a\",\n    \"data-ui\": \"PaneItem\",\n    padding: 2,\n    radius: 2,\n    onClick: handleClick,\n    pressed,\n    selected: selected || clicked,\n    tone: \"inherit\",\n    children: preview\n  });\n}\n\n//# sourceMappingURL=PaneItem-9d0095a8.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1jbGllbnQpLy4vbm9kZV9tb2R1bGVzL3Nhbml0eS9saWIvX2NodW5rcy9QYW5lSXRlbS05ZDAwOTVhOC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQThDO0FBQ2lEO0FBQzlDO0FBQ2Y7QUFDZ0M7QUFDa0Q7QUFDaEQ7QUFDNUM7QUFDSTtBQUNMO0FBQ3ZCO0FBQ0Esd0JBQXdCLHVEQUFJO0FBQzVCLDJEQUEyRCxzREFBRztBQUM5RDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsMkJBQTJCLHVEQUFJO0FBQy9CLDRDQUE0QyxzREFBRztBQUMvQztBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsOEJBQThCLHNEQUFHLENBQUMsNkRBQWtCLElBQUk7QUFDeEQsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLHdCQUF3QixzREFBRyxDQUFDLHdEQUFvQjtBQUNoRDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osaUJBQWlCLGlEQUFTO0FBQzFCLCtCQUErQiwrREFBdUI7QUFDdEQ7QUFDQTtBQUNBLElBQUksRUFBRSxnRUFBYTtBQUNuQiwyQkFBMkIsMkRBQW1CO0FBQzlDO0FBQ0EsZ0NBQWdDLCtDQUFRO0FBQ3hDLGtCQUFrQiw4Q0FBTztBQUN6QixpQkFBaUIsK0RBQWdCO0FBQ2pDO0FBQ0EsOEJBQThCLHNEQUFHO0FBQ2pDO0FBQ0EsU0FBUztBQUNUO0FBQ0EsNEJBQTRCLHNEQUFHLENBQUMsOERBQWU7QUFDL0M7QUFDQSxvREFBb0QsdURBQVk7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSwwQkFBMEIsc0RBQUcsQ0FBQyx3REFBb0I7QUFDbEQsNkJBQTZCLHNEQUFHLENBQUMsNENBQUk7QUFDckM7QUFDQSxpQ0FBaUMsc0RBQUcsQ0FBQywyREFBZ0IsSUFBSTtBQUN6RCxPQUFPO0FBQ1Asa0RBQWtELHFEQUFVO0FBQzVEO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILGVBQWUsOENBQU87QUFDdEIsMEJBQTBCLHNEQUFHO0FBQzdCO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILHNCQUFzQixrREFBVztBQUNqQyxFQUFFLGdEQUFTO0FBQ1gsd0JBQXdCLHNEQUFHLENBQUMsK0NBQVc7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNvQjtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc2FuaXR5L2xpYi9fY2h1bmtzL1BhbmVJdGVtLTlkMDA5NWE4LmpzPzg3NjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganN4LCBqc3hzIH0gZnJvbSAncmVhY3QvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgV2FybmluZ091dGxpbmVJY29uLCBDaGV2cm9uUmlnaHRJY29uLCBEb2N1bWVudEljb24sIEZvbGRlckljb24gfSBmcm9tICdAc2FuaXR5L2ljb25zJztcbmltcG9ydCB7IGlzU2FuaXR5RG9jdW1lbnQgfSBmcm9tICdAc2FuaXR5L3R5cGVzJztcbmltcG9ydCB7IFRleHQgfSBmcm9tICdAc2FuaXR5L3VpJztcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VNZW1vLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU2FuaXR5RGVmYXVsdFByZXZpZXcsIHVzZVNjaGVtYSwgdXNlRG9jdW1lbnRQcmV2aWV3U3RvcmUsIHVzZURvY3VtZW50UHJlc2VuY2UsIFByZXZpZXdDYXJkIH0gZnJvbSAnc2FuaXR5JztcbmltcG9ydCB7IHVzZVBhbmVSb3V0ZXIsIFBhbmVJdGVtUHJldmlldyB9IGZyb20gJy4vZGVzay00ZTdiZTBhZS5qcyc7XG5pbXBvcnQgJ2xvZGFzaC9vbWl0LmpzJztcbmltcG9ydCAnQHNhbml0eS91dGlsL3BhdGhzJztcbmltcG9ydCAnc2FuaXR5L3JvdXRlcic7XG5jb25zdCBnZXRVbmtub3duVHlwZUZhbGxiYWNrID0gKGlkLCB0eXBlTmFtZSkgPT4gKHtcbiAgdGl0bGU6IC8qIEBfX1BVUkVfXyAqL2pzeHMoXCJlbVwiLCB7XG4gICAgY2hpbGRyZW46IFtcIk5vIHNjaGVtYSBmb3VuZCBmb3IgdHlwZSBcIiwgLyogQF9fUFVSRV9fICovanN4KFwiY29kZVwiLCB7XG4gICAgICBjaGlsZHJlbjogdHlwZU5hbWVcbiAgICB9KV1cbiAgfSksXG4gIHN1YnRpdGxlOiAvKiBAX19QVVJFX18gKi9qc3hzKFwiZW1cIiwge1xuICAgIGNoaWxkcmVuOiBbXCJEb2N1bWVudDogXCIsIC8qIEBfX1BVUkVfXyAqL2pzeChcImNvZGVcIiwge1xuICAgICAgY2hpbGRyZW46IGlkXG4gICAgfSldXG4gIH0pLFxuICBtZWRpYTogKCkgPT4gLyogQF9fUFVSRV9fICovanN4KFdhcm5pbmdPdXRsaW5lSWNvbiwge30pXG59KTtcbmZ1bmN0aW9uIE1pc3NpbmdTY2hlbWFUeXBlKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBsYXlvdXQsXG4gICAgdmFsdWVcbiAgfSA9IHByb3BzO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFNhbml0eURlZmF1bHRQcmV2aWV3LCB7XG4gICAgLi4uZ2V0VW5rbm93blR5cGVGYWxsYmFjayh2YWx1ZS5faWQsIHZhbHVlLl90eXBlKSxcbiAgICBsYXlvdXRcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRJY29uV2l0aEZhbGxiYWNrKGljb24sIHNjaGVtYVR5cGUsIGRlZmF1bHRJY29uKSB7XG4gIGlmIChpY29uID09PSBmYWxzZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gaWNvbiB8fCBzY2hlbWFUeXBlICYmIHNjaGVtYVR5cGUuaWNvbiB8fCBkZWZhdWx0SWNvbiB8fCBmYWxzZTtcbn1cbmZ1bmN0aW9uIFBhbmVJdGVtKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBpY29uLFxuICAgIGlkLFxuICAgIGxheW91dCA9IFwiZGVmYXVsdFwiLFxuICAgIHByZXNzZWQsXG4gICAgc2NoZW1hVHlwZSxcbiAgICBzZWxlY3RlZCxcbiAgICB0aXRsZSxcbiAgICB2YWx1ZVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHNjaGVtYSA9IHVzZVNjaGVtYSgpO1xuICBjb25zdCBkb2N1bWVudFByZXZpZXdTdG9yZSA9IHVzZURvY3VtZW50UHJldmlld1N0b3JlKCk7XG4gIGNvbnN0IHtcbiAgICBDaGlsZExpbmtcbiAgfSA9IHVzZVBhbmVSb3V0ZXIoKTtcbiAgY29uc3QgZG9jdW1lbnRQcmVzZW5jZSA9IHVzZURvY3VtZW50UHJlc2VuY2UoaWQpO1xuICBjb25zdCBoYXNTY2hlbWFUeXBlID0gQm9vbGVhbihzY2hlbWFUeXBlICYmIHNjaGVtYVR5cGUubmFtZSAmJiBzY2hlbWEuZ2V0KHNjaGVtYVR5cGUubmFtZSkpO1xuICBjb25zdCBbY2xpY2tlZCwgc2V0Q2xpY2tlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHByZXZpZXcgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAodmFsdWUgJiYgaXNTYW5pdHlEb2N1bWVudCh2YWx1ZSkpIHtcbiAgICAgIGlmICghc2NoZW1hVHlwZSB8fCAhaGFzU2NoZW1hVHlwZSkge1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KE1pc3NpbmdTY2hlbWFUeXBlLCB7XG4gICAgICAgICAgdmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFBhbmVJdGVtUHJldmlldywge1xuICAgICAgICBkb2N1bWVudFByZXZpZXdTdG9yZSxcbiAgICAgICAgaWNvbjogZ2V0SWNvbldpdGhGYWxsYmFjayhpY29uLCBzY2hlbWFUeXBlLCBEb2N1bWVudEljb24pLFxuICAgICAgICBsYXlvdXQsXG4gICAgICAgIHNjaGVtYVR5cGUsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBwcmVzZW5jZTogZG9jdW1lbnRQcmVzZW5jZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goU2FuaXR5RGVmYXVsdFByZXZpZXcsIHtcbiAgICAgIHN0YXR1czogLyogQF9fUFVSRV9fICovanN4KFRleHQsIHtcbiAgICAgICAgbXV0ZWQ6IHRydWUsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3goQ2hldnJvblJpZ2h0SWNvbiwge30pXG4gICAgICB9KSxcbiAgICAgIGljb246IGdldEljb25XaXRoRmFsbGJhY2soaWNvbiwgc2NoZW1hVHlwZSwgRm9sZGVySWNvbiksXG4gICAgICBsYXlvdXQsXG4gICAgICB0aXRsZVxuICAgIH0pO1xuICB9LCBbZG9jdW1lbnRQcmV2aWV3U3RvcmUsIGhhc1NjaGVtYVR5cGUsIGljb24sIGxheW91dCwgc2NoZW1hVHlwZSwgdGl0bGUsIHZhbHVlLCBkb2N1bWVudFByZXNlbmNlXSk7XG4gIGNvbnN0IExpbmsgPSB1c2VNZW1vKCgpID0+IGZ1bmN0aW9uIExpbmtDb21wb25lbnQobGlua1Byb3BzKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChDaGlsZExpbmssIHtcbiAgICAgIC4uLmxpbmtQcm9wcyxcbiAgICAgIGNoaWxkSWQ6IGlkXG4gICAgfSk7XG4gIH0sIFtDaGlsZExpbmssIGlkXSk7XG4gIGNvbnN0IGhhbmRsZUNsaWNrID0gdXNlQ2FsbGJhY2soKCkgPT4gc2V0Q2xpY2tlZCh0cnVlKSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4gc2V0Q2xpY2tlZChmYWxzZSksIFtzZWxlY3RlZF0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFByZXZpZXdDYXJkLCB7XG4gICAgX191bnN0YWJsZV9mb2N1c1Jpbmc6IHRydWUsXG4gICAgYXM6IExpbmssXG4gICAgXCJkYXRhLWFzXCI6IFwiYVwiLFxuICAgIFwiZGF0YS11aVwiOiBcIlBhbmVJdGVtXCIsXG4gICAgcGFkZGluZzogMixcbiAgICByYWRpdXM6IDIsXG4gICAgb25DbGljazogaGFuZGxlQ2xpY2ssXG4gICAgcHJlc3NlZCxcbiAgICBzZWxlY3RlZDogc2VsZWN0ZWQgfHwgY2xpY2tlZCxcbiAgICB0b25lOiBcImluaGVyaXRcIixcbiAgICBjaGlsZHJlbjogcHJldmlld1xuICB9KTtcbn1cbmV4cG9ydCB7IFBhbmVJdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QYW5lSXRlbS05ZDAwOTVhOC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-client)/./node_modules/sanity/lib/_chunks/PaneItem-9d0095a8.js\n"));

/***/ }),

/***/ "(app-client)/./node_modules/sanity/lib/_chunks/index-d8cac52c.js":
/*!***********************************************************!*\
  !*** ./node_modules/sanity/lib/_chunks/index-d8cac52c.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ DocumentListPane; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-client)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-client)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _sanity_ui__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @sanity/ui */ \"(app-client)/./node_modules/@sanity/ui/dist/index.esm.js\");\n/* harmony import */ var shallow_equals__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! shallow-equals */ \"(app-client)/./node_modules/shallow-equals/index.js\");\n/* harmony import */ var shallow_equals__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(shallow_equals__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/isEqual.js */ \"(app-client)/./node_modules/lodash/isEqual.js\");\n/* harmony import */ var lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _sanity_icons__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @sanity/icons */ \"(app-client)/./node_modules/@sanity/icons/dist/index.js\");\n/* harmony import */ var sanity_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sanity/router */ \"(app-client)/./node_modules/sanity/lib/router.esm.js\");\n/* harmony import */ var _desk_4e7be0ae_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./desk-4e7be0ae.js */ \"(app-client)/./node_modules/sanity/lib/_chunks/desk-4e7be0ae.js\");\n/* harmony import */ var _index_56aa5cc3_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./index-56aa5cc3.js */ \"(app-client)/./node_modules/sanity/lib/_chunks/index-56aa5cc3.js\");\n/* harmony import */ var _sanity_util_paths__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sanity/util/paths */ \"(app-client)/./node_modules/@sanity/util/lib/paths.esm.js\");\n/* harmony import */ var _sanity_types__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @sanity/types */ \"(app-client)/./node_modules/sanity/node_modules/@sanity/types/lib/index.esm.js\");\n/* harmony import */ var sanity__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! sanity */ \"(app-client)/./node_modules/sanity/lib/index.esm.js\");\n/* harmony import */ var _PaneItem_9d0095a8_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./PaneItem-9d0095a8.js */ \"(app-client)/./node_modules/sanity/lib/_chunks/PaneItem-9d0095a8.js\");\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash/omit.js */ \"(app-client)/./node_modules/lodash/omit.js\");\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(lodash_omit_js__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var lodash_isNumber_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash/isNumber.js */ \"(app-client)/./node_modules/lodash/isNumber.js\");\n/* harmony import */ var lodash_isNumber_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash_isNumber_js__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var lodash_isString_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lodash/isString.js */ \"(app-client)/./node_modules/lodash/isString.js\");\n/* harmony import */ var lodash_isString_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(lodash_isString_js__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var react_rx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react-rx */ \"(app-client)/./node_modules/react-rx/dist/esm/index.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/Subject.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/observable/merge.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/observable/of.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/observable/concat.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/map.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/publishReplay.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/refCount.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/share.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/delay.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/takeUntil.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/startWith.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/catchError.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/take.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/mergeMapTo.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/scan.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/filter.js\");\n/* harmony import */ var react_fast_compare__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react-fast-compare */ \"(app-client)/./node_modules/react-fast-compare/index.js\");\n/* harmony import */ var react_fast_compare__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(react_fast_compare__WEBPACK_IMPORTED_MODULE_14__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst PARTIAL_PAGE_LIMIT = 100;\nconst FULL_LIST_LIMIT = 2e3;\nconst DEFAULT_ORDERING = {\n  by: [{\n    field: \"_updatedAt\",\n    direction: \"desc\"\n  }]\n};\nconst EMPTY_RECORD = {};\nfunction getDocumentKey(value, index) {\n  return value._id ? (0,sanity__WEBPACK_IMPORTED_MODULE_8__.getPublishedId)(value._id) : \"item-\".concat(index);\n}\nfunction removePublishedWithDrafts(documents) {\n  return (0,sanity__WEBPACK_IMPORTED_MODULE_8__.collate)(documents).map(entry => {\n    const doc = entry.draft || entry.published;\n    return {\n      ...doc,\n      hasPublished: !!entry.published,\n      hasDraft: !!entry.draft\n    };\n  });\n}\nconst RE_TYPE_NAME_IN_FILTER = /\\b_type\\s*==\\s*(['\"].*?['\"]|\\$.*?(?:\\s|$))|\\B(['\"].*?['\"]|\\$.*?(?:\\s|$))\\s*==\\s*_type\\b/;\nfunction getTypeNameFromSingleTypeFilter(filter) {\n  let params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const matches = filter.match(RE_TYPE_NAME_IN_FILTER);\n  if (!matches) {\n    return null;\n  }\n  const match = (matches[1] || matches[2]).trim().replace(/^[\"']|[\"']$/g, \"\");\n  if (match[0] === \"$\") {\n    const k = match.slice(1);\n    const v = params[k];\n    return typeof v === \"string\" ? v : null;\n  }\n  return match;\n}\nfunction isSimpleTypeFilter(filter) {\n  return /^_type\\s*==\\s*['\"$]\\w+['\"]?\\s*$/.test(filter.trim());\n}\nfunction toOrderClause(orderBy) {\n  return orderBy.map(ordering => [wrapFieldWithFn(ordering), (ordering.direction || \"\").toLowerCase()].map(str => str.trim()).filter(Boolean).join(\" \")).join(\",\");\n}\nfunction wrapFieldWithFn(ordering) {\n  return ordering.mapWith ? \"\".concat(ordering.mapWith, \"(\").concat(ordering.field, \")\") : ordering.field;\n}\nfunction applyOrderingFunctions(order, schemaType) {\n  const orderBy = order.by.map(by => {\n    if (by.mapWith) {\n      return by;\n    }\n    const fieldType = tryResolveSchemaTypeForPath(schemaType, by.field);\n    if (!fieldType) {\n      return by;\n    }\n    if (fieldExtendsType(fieldType, \"datetime\")) {\n      return {\n        ...by,\n        mapWith: \"dateTime\"\n      };\n    }\n    if (fieldType.jsonType === \"string\") {\n      return {\n        ...by,\n        mapWith: \"lower\"\n      };\n    }\n    return by;\n  });\n  return orderBy.every((item, index) => item === order.by[index]) ? order : {\n    ...order,\n    by: orderBy\n  };\n}\nfunction tryResolveSchemaTypeForPath(baseType, path) {\n  const pathSegments = _sanity_util_paths__WEBPACK_IMPORTED_MODULE_7__.fromString(path);\n  let current = baseType;\n  for (const segment of pathSegments) {\n    if (!current) {\n      return void 0;\n    }\n    if (typeof segment === \"string\") {\n      current = getFieldTypeByName(current, segment);\n      continue;\n    }\n    const isArrayAccessor = (0,_sanity_types__WEBPACK_IMPORTED_MODULE_15__.isKeySegment)(segment) || (0,_sanity_types__WEBPACK_IMPORTED_MODULE_15__.isIndexSegment)(segment);\n    if (!isArrayAccessor || current.jsonType !== \"array\") {\n      return void 0;\n    }\n    const [memberType, otherType] = current.of || [];\n    if (otherType || !memberType) {\n      return void 0;\n    }\n    if (!(0,_sanity_types__WEBPACK_IMPORTED_MODULE_15__.isReferenceSchemaType)(memberType)) {\n      current = memberType;\n      continue;\n    }\n    const [refType, otherRefType] = memberType.to || [];\n    if (otherRefType || !refType) {\n      return void 0;\n    }\n    current = refType;\n  }\n  return current;\n}\nfunction getFieldTypeByName(type, fieldName) {\n  if (!(\"fields\" in type)) {\n    return void 0;\n  }\n  const fieldType = type.fields.find(field => field.name === fieldName);\n  return fieldType ? fieldType.type : void 0;\n}\nfunction fieldExtendsType(field, ofType) {\n  let current = field.type;\n  while (current) {\n    if (current.name === ofType) {\n      return true;\n    }\n    if (!current.type && current.jsonType === ofType) {\n      return true;\n    }\n    current = current.type;\n  }\n  return false;\n}\nfunction DocumentListPaneContent(props) {\n  const {\n    childItemId,\n    error,\n    filterIsSimpleTypeContraint,\n    fullList,\n    isActive,\n    isLoading,\n    items,\n    layout,\n    onListChange,\n    onRetry,\n    showIcons\n  } = props;\n  const schema = (0,sanity__WEBPACK_IMPORTED_MODULE_8__.useSchema)();\n  const {\n    collapsed: layoutCollapsed\n  } = (0,_desk_4e7be0ae_js__WEBPACK_IMPORTED_MODULE_5__.usePaneLayout)();\n  const {\n    collapsed,\n    index\n  } = (0,_desk_4e7be0ae_js__WEBPACK_IMPORTED_MODULE_5__.usePane)();\n  const [shouldRender, setShouldRender] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (collapsed) return void 0;\n    const timer = setTimeout(() => {\n      setShouldRender(true);\n    }, 0);\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [collapsed]);\n  const renderItem = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(item => {\n    const publishedId = (0,sanity__WEBPACK_IMPORTED_MODULE_8__.getPublishedId)(item._id);\n    const isSelected = childItemId === publishedId;\n    const pressed = !isActive && isSelected;\n    const selected = isActive && isSelected;\n    return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_PaneItem_9d0095a8_js__WEBPACK_IMPORTED_MODULE_9__.PaneItem, {\n      icon: showIcons === false ? false : void 0,\n      id: publishedId,\n      pressed,\n      selected,\n      layout,\n      schemaType: schema.get(item._type),\n      value: item\n    });\n  }, [childItemId, isActive, layout, schema, showIcons]);\n  const content = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (!shouldRender) {\n      return null;\n    }\n    if (error) {\n      return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Flex, {\n        align: \"center\",\n        direction: \"column\",\n        height: \"fill\",\n        justify: \"center\",\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Container, {\n          width: 1,\n          children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Stack, {\n            paddingX: 4,\n            paddingY: 5,\n            space: 4,\n            children: [/* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Heading, {\n              as: \"h3\",\n              children: \"Could not fetch list items\"\n            }), /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Text, {\n              as: \"p\",\n              children: [\"Error: \", /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"code\", {\n                children: error.message\n              })]\n            }), onRetry && /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Box, {\n              children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Button, {\n                icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_17__.SyncIcon,\n                onClick: onRetry,\n                text: \"Retry\",\n                tone: \"primary\"\n              })\n            })]\n          })\n        })\n      });\n    }\n    if (items === null) {\n      return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Flex, {\n        align: \"center\",\n        direction: \"column\",\n        height: \"fill\",\n        justify: \"center\",\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_index_56aa5cc3_js__WEBPACK_IMPORTED_MODULE_6__.Delay, {\n          ms: 300,\n          children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [/* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Spinner, {\n              muted: true\n            }), /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Box, {\n              marginTop: 3,\n              children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Text, {\n                align: \"center\",\n                muted: true,\n                size: 1,\n                children: \"Loading documents\\u2026\"\n              })\n            })]\n          })\n        })\n      });\n    }\n    if (!isLoading && items.length === 0) {\n      return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Flex, {\n        align: \"center\",\n        direction: \"column\",\n        height: \"fill\",\n        justify: \"center\",\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Container, {\n          width: 1,\n          children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Box, {\n            paddingX: 4,\n            paddingY: 5,\n            children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Text, {\n              align: \"center\",\n              muted: true,\n              size: 2,\n              children: filterIsSimpleTypeContraint ? \"No documents of this type\" : \"No matching documents\"\n            })\n          })\n        })\n      });\n    }\n    const hasMoreItems = fullList && items.length === FULL_LIST_LIMIT;\n    return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Box, {\n      padding: 2,\n      children: [items.length > 0 && /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.VirtualList, {\n        gap: 1,\n        getItemKey: getDocumentKey,\n        items,\n        renderItem,\n        onChange: onListChange\n      }, \"\".concat(index, \"-\").concat(collapsed)), isLoading && /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Card, {\n        borderTop: true,\n        marginTop: 1,\n        paddingX: 3,\n        paddingY: 4,\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Text, {\n          align: \"center\",\n          muted: true,\n          size: 1,\n          children: \"Loading\\u2026\"\n        })\n      }), hasMoreItems && /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Card, {\n        marginTop: 1,\n        paddingX: 3,\n        paddingY: 4,\n        radius: 2,\n        tone: \"transparent\",\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Text, {\n          align: \"center\",\n          muted: true,\n          size: 1,\n          children: [\"Displaying a maximum of \", FULL_LIST_LIMIT, \" documents\"]\n        })\n      })]\n    });\n  }, [error, filterIsSimpleTypeContraint, fullList, onListChange, isLoading, items, onRetry, renderItem, shouldRender, collapsed, index]);\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_desk_4e7be0ae_js__WEBPACK_IMPORTED_MODULE_5__.PaneContent, {\n    overflow: layoutCollapsed ? void 0 : \"auto\",\n    children: content\n  });\n}\nconst DocumentListPaneHeader = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(_ref => {\n  let {\n    index,\n    initialValueTemplates = [],\n    menuItems = [],\n    menuItemGroups = [],\n    setLayout,\n    setSortOrder,\n    title\n  } = _ref;\n  const {\n    features\n  } = (0,_index_56aa5cc3_js__WEBPACK_IMPORTED_MODULE_6__.useDeskTool)();\n  const actionHandlers = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    return {\n      setLayout: _ref2 => {\n        let {\n          layout: value\n        } = _ref2;\n        setLayout(value);\n      },\n      setSortOrder: sort => {\n        setSortOrder(sort);\n      }\n    };\n  }, [setLayout, setSortOrder]);\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_desk_4e7be0ae_js__WEBPACK_IMPORTED_MODULE_5__.PaneHeader, {\n    backButton: features.backButton && index > 0 && /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Button, {\n      as: _desk_4e7be0ae_js__WEBPACK_IMPORTED_MODULE_5__.BackLink,\n      \"data-as\": \"a\",\n      icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_17__.ArrowLeftIcon,\n      mode: \"bleed\"\n    }),\n    title,\n    actions: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_desk_4e7be0ae_js__WEBPACK_IMPORTED_MODULE_5__.PaneHeaderActions, {\n      initialValueTemplateItems: initialValueTemplates,\n      actionHandlers,\n      menuItemGroups,\n      menuItems\n    })\n  });\n});\nDocumentListPaneHeader.displayName = \"DocumentListPaneHeader\";\nconst INITIAL_CHILD_PROPS = {\n  result: null,\n  error: false\n};\nconst createResultChildProps = documents => ({\n  result: {\n    documents\n  },\n  loading: false,\n  error: false\n});\nconst createErrorChildProps = error => ({\n  result: null,\n  loading: false,\n  error\n});\nconst getQueryResults = function (receivedProps$) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const onRetry$ = new rxjs__WEBPACK_IMPORTED_MODULE_18__.Subject();\n  const onRetry = onRetry$.next.bind(onRetry$);\n  const queryProps$ = receivedProps$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.map)(props => ({\n    client: props.client,\n    query: props.query,\n    params: props.params\n  })), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)((react_fast_compare__WEBPACK_IMPORTED_MODULE_14___default())), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.publishReplay)(1), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.refCount)());\n  const queryResults$ = queryProps$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_23__.switchMap)(queryProps => {\n    const query$ = (0,sanity__WEBPACK_IMPORTED_MODULE_8__.listenQuery)(queryProps.client, queryProps.query, queryProps.params, options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.map)(createResultChildProps), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.share)());\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_25__.merge)((0,rxjs__WEBPACK_IMPORTED_MODULE_26__.of)({\n      loading: true\n    }).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.delay)(400), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_28__.takeUntil)(query$)), query$);\n  }));\n  return queryResults$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_29__.startWith)(INITIAL_CHILD_PROPS), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.catchError)((err, caught$) => (0,rxjs__WEBPACK_IMPORTED_MODULE_31__.concat)((0,rxjs__WEBPACK_IMPORTED_MODULE_26__.of)(createErrorChildProps(err)), (0,rxjs__WEBPACK_IMPORTED_MODULE_25__.merge)((0,rxjs__WEBPACK_IMPORTED_MODULE_32__.fromEvent)(window, \"online\"), onRetry$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_33__.take)(1), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_34__.mergeMapTo)(caught$)))), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_35__.scan)((prev, next) => ({\n    ...prev,\n    ...next,\n    onRetry\n  })));\n};\nfunction useDocumentList(opts) {\n  var _a;\n  const {\n    apiVersion,\n    filter: filter$1,\n    params,\n    sortOrder\n  } = opts;\n  const client = (0,sanity__WEBPACK_IMPORTED_MODULE_8__.useClient)(sanity__WEBPACK_IMPORTED_MODULE_8__.DEFAULT_STUDIO_CLIENT_OPTIONS);\n  const [fullList, setFullList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const fullListRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(fullList);\n  const [result, setResult] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n  const error = (result == null ? void 0 : result.error) || null;\n  const isLoading = (result == null ? void 0 : result.loading) || result === null;\n  const onRetry = result == null ? void 0 : result.onRetry;\n  const documents = (_a = result == null ? void 0 : result.result) == null ? void 0 : _a.documents;\n  const items = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => documents ? removePublishedWithDrafts(documents) : null, [documents]);\n  const query = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    const extendedProjection = sortOrder == null ? void 0 : sortOrder.extendedProjection;\n    const projectionFields = [\"_id\", \"_type\"];\n    const finalProjection = projectionFields.join(\",\");\n    const sortBy = (sortOrder == null ? void 0 : sortOrder.by) || [];\n    const limit = fullList ? FULL_LIST_LIMIT : PARTIAL_PAGE_LIMIT;\n    const sort = sortBy.length > 0 ? sortBy : DEFAULT_ORDERING.by;\n    const order = toOrderClause(sort);\n    if (extendedProjection) {\n      const firstProjection = projectionFields.concat(extendedProjection).join(\",\");\n      return [\"*[\".concat(filter$1, \"] {\").concat(firstProjection, \"}\"), \"order(\".concat(order, \") [0...\").concat(limit, \"]\"), \"{\".concat(finalProjection, \"}\")].join(\"|\");\n    }\n    return \"*[\".concat(filter$1, \"]|order(\").concat(order, \")[0...\").concat(limit, \"]{\").concat(finalProjection, \"}\");\n  }, [filter$1, fullList, sortOrder]);\n  const handleListChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(_ref3 => {\n    let {\n      toIndex\n    } = _ref3;\n    if (isLoading || fullListRef.current) {\n      return;\n    }\n    if (toIndex >= PARTIAL_PAGE_LIMIT / 2) {\n      setFullList(true);\n      fullListRef.current = true;\n    }\n  }, [isLoading]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const filterFn = fullList ? queryResult => Boolean(queryResult.result) : () => true;\n    setResult(r => r ? {\n      ...r,\n      loading: true\n    } : null);\n    const queryResults$ = getQueryResults((0,rxjs__WEBPACK_IMPORTED_MODULE_26__.of)({\n      client,\n      query,\n      params\n    }), {\n      apiVersion,\n      tag: \"desk.document-list\"\n    }).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_36__.filter)(filterFn));\n    const sub = queryResults$.subscribe(setResult);\n    return () => sub.unsubscribe();\n  }, [apiVersion, client, fullList, query, params]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    setResult(null);\n    setFullList(false);\n    fullListRef.current = false;\n  }, [filter$1, params, sortOrder, apiVersion]);\n  return {\n    error,\n    fullList,\n    handleListChange,\n    isLoading,\n    items,\n    onRetry\n  };\n}\nconst EMPTY_ARRAY = [];\nfunction useShallowUnique(value) {\n  const valueRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(value);\n  if (!shallow_equals__WEBPACK_IMPORTED_MODULE_2___default()(valueRef.current, value)) {\n    valueRef.current = value;\n  }\n  return valueRef.current;\n}\nconst addSelectedStateToMenuItems = options => {\n  const {\n    menuItems,\n    sortOrderRaw,\n    layout\n  } = options;\n  return menuItems == null ? void 0 : menuItems.map(item => {\n    var _a, _b, _c, _d;\n    if ((_a = item.params) == null ? void 0 : _a.layout) {\n      return {\n        ...item,\n        selected: layout === ((_b = item.params) == null ? void 0 : _b.layout)\n      };\n    }\n    if ((_c = item == null ? void 0 : item.params) == null ? void 0 : _c.by) {\n      return {\n        ...item,\n        selected: lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_3___default()(sortOrderRaw == null ? void 0 : sortOrderRaw.by, ((_d = item == null ? void 0 : item.params) == null ? void 0 : _d.by) || EMPTY_ARRAY)\n      };\n    }\n    return {\n      ...item,\n      selected: false\n    };\n  });\n};\nconst DocumentListPane = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(function DocumentListPane2(props) {\n  const {\n    childItemId,\n    index,\n    isActive,\n    isSelected,\n    pane,\n    paneKey\n  } = props;\n  const schema = (0,sanity__WEBPACK_IMPORTED_MODULE_8__.useSchema)();\n  const {\n    name: parentSourceName\n  } = (0,sanity__WEBPACK_IMPORTED_MODULE_8__.useSource)();\n  const {\n    defaultLayout = \"default\",\n    displayOptions,\n    initialValueTemplates = EMPTY_ARRAY,\n    menuItems,\n    menuItemGroups,\n    options,\n    title\n  } = pane;\n  const {\n    apiVersion,\n    defaultOrdering = EMPTY_ARRAY,\n    filter\n  } = options;\n  const params = useShallowUnique(options.params || EMPTY_RECORD);\n  const sourceName = pane.source;\n  const typeName = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => getTypeNameFromSingleTypeFilter(filter, params), [filter, params]);\n  const showIcons = (displayOptions == null ? void 0 : displayOptions.showIcons) !== false;\n  const [layout, setLayout] = (0,_index_56aa5cc3_js__WEBPACK_IMPORTED_MODULE_6__.useDeskToolSetting)(typeName, \"layout\", defaultLayout);\n  const defaultSortOrder = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    return (defaultOrdering == null ? void 0 : defaultOrdering.length) > 0 ? {\n      by: defaultOrdering\n    } : DEFAULT_ORDERING;\n  }, [defaultOrdering]);\n  const [sortOrderRaw, setSortOrder] = (0,_index_56aa5cc3_js__WEBPACK_IMPORTED_MODULE_6__.useDeskToolSetting)(typeName, \"sortOrder\", defaultSortOrder);\n  const sortWithOrderingFn = typeName && sortOrderRaw ? applyOrderingFunctions(sortOrderRaw, schema.get(typeName)) : sortOrderRaw;\n  const sortOrder = (0,sanity__WEBPACK_IMPORTED_MODULE_8__.useUnique)(sortWithOrderingFn);\n  const filterIsSimpleTypeContraint = isSimpleTypeFilter(filter);\n  const {\n    error,\n    fullList,\n    handleListChange,\n    isLoading,\n    items,\n    onRetry\n  } = useDocumentList({\n    filter,\n    params,\n    sortOrder,\n    apiVersion\n  });\n  const menuItemsWithSelectedState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => addSelectedStateToMenuItems({\n    menuItems,\n    sortOrderRaw,\n    layout\n  }), [layout, menuItems, sortOrderRaw]);\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_8__.SourceProvider, {\n    name: sourceName || parentSourceName,\n    children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_desk_4e7be0ae_js__WEBPACK_IMPORTED_MODULE_5__.Pane, {\n      currentMaxWidth: 350,\n      id: paneKey,\n      maxWidth: 640,\n      minWidth: 320,\n      selected: isSelected,\n      children: [_desk_4e7be0ae_js__WEBPACK_IMPORTED_MODULE_5__._DEBUG, /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DocumentListPaneHeader, {\n        index,\n        initialValueTemplates,\n        menuItems: menuItemsWithSelectedState,\n        menuItemGroups,\n        setLayout,\n        setSortOrder,\n        title\n      }), /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DocumentListPaneContent, {\n        childItemId,\n        error,\n        filterIsSimpleTypeContraint,\n        fullList,\n        isActive,\n        isLoading,\n        items,\n        layout,\n        onListChange: handleListChange,\n        onRetry,\n        showIcons\n      })]\n    })\n  });\n});\n\n//# sourceMappingURL=index-d8cac52c.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1jbGllbnQpLy4vbm9kZV9tb2R1bGVzL3Nhbml0eS9saWIvX2NodW5rcy9pbmRleC1kOGNhYzUyYy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd0Q7QUFDd0I7QUFDNEI7QUFDakU7QUFDSDtBQUNnQjtBQUNqQztBQUN5RztBQUNuRDtBQUM3QjtBQUNvQztBQUNxRTtBQUN2RztBQUMxQjtBQUNJO0FBQ0E7QUFDVjtBQUMyQztBQUNrSDtBQUNsSTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHNEQUFjO0FBQ25DO0FBQ0E7QUFDQSxTQUFTLCtDQUFPO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwwREFBb0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDREQUFZLGFBQWEsOERBQWM7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHFFQUFxQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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LDJDQUFJO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGlCQUFpQixpREFBUztBQUMxQjtBQUNBO0FBQ0EsSUFBSSxFQUFFLGlEQUFTO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsbUJBQW1CLDhDQUFPO0FBQzFCO0FBQ0EsOEJBQThCLHNFQUFrQjtBQUNoRCwyQkFBMkIsOENBQU87QUFDbEM7QUFDQTtBQUNBLE1BQU07QUFDTixHQUFHO0FBQ0gsdUNBQXVDLHNFQUFrQjtBQUN6RDtBQUNBLG9CQUFvQixpREFBUztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHFDQUFxQyw4Q0FBTztBQUM1QztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsd0JBQXdCLHNEQUFHLENBQUMsa0RBQWM7QUFDMUM7QUFDQSw2QkFBNkIsdURBQUksQ0FBQyxtREFBSTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHFEQUFNLGlCQUFpQixzREFBRztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sa0JBQWtCLHNEQUFHO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDO0FBQ3NDO0FBQ3ZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zYW5pdHkvbGliL19jaHVua3MvaW5kZXgtZDhjYWM1MmMuanM/NTczYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3gsIGpzeHMsIEZyYWdtZW50IH0gZnJvbSAncmVhY3QvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8sIG1lbW8sIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZsZXgsIENvbnRhaW5lciwgU3RhY2ssIEhlYWRpbmcsIFRleHQsIEJveCwgQnV0dG9uLCBTcGlubmVyLCBWaXJ0dWFsTGlzdCwgQ2FyZCB9IGZyb20gJ0BzYW5pdHkvdWknO1xuaW1wb3J0IHNoYWxsb3dFcXVhbHMgZnJvbSAnc2hhbGxvdy1lcXVhbHMnO1xuaW1wb3J0IGlzRXF1YWwgZnJvbSAnbG9kYXNoL2lzRXF1YWwuanMnO1xuaW1wb3J0IHsgU3luY0ljb24sIEFycm93TGVmdEljb24gfSBmcm9tICdAc2FuaXR5L2ljb25zJztcbmltcG9ydCAnc2FuaXR5L3JvdXRlcic7XG5pbXBvcnQgeyB1c2VQYW5lTGF5b3V0LCB1c2VQYW5lLCBQYW5lQ29udGVudCwgUGFuZUhlYWRlciwgQmFja0xpbmssIFBhbmVIZWFkZXJBY3Rpb25zLCBQYW5lLCBfREVCVUcgfSBmcm9tICcuL2Rlc2stNGU3YmUwYWUuanMnO1xuaW1wb3J0IHsgRGVsYXksIHVzZURlc2tUb29sLCB1c2VEZXNrVG9vbFNldHRpbmcgfSBmcm9tICcuL2luZGV4LTU2YWE1Y2MzLmpzJztcbmltcG9ydCAqIGFzIFBhdGhVdGlscyBmcm9tICdAc2FuaXR5L3V0aWwvcGF0aHMnO1xuaW1wb3J0IHsgaXNLZXlTZWdtZW50LCBpc0luZGV4U2VnbWVudCwgaXNSZWZlcmVuY2VTY2hlbWFUeXBlIH0gZnJvbSAnQHNhbml0eS90eXBlcyc7XG5pbXBvcnQgeyBnZXRQdWJsaXNoZWRJZCwgY29sbGF0ZSwgdXNlU2NoZW1hLCBsaXN0ZW5RdWVyeSwgdXNlQ2xpZW50LCBERUZBVUxUX1NUVURJT19DTElFTlRfT1BUSU9OUywgdXNlU291cmNlLCB1c2VVbmlxdWUsIFNvdXJjZVByb3ZpZGVyIH0gZnJvbSAnc2FuaXR5JztcbmltcG9ydCB7IFBhbmVJdGVtIH0gZnJvbSAnLi9QYW5lSXRlbS05ZDAwOTVhOC5qcyc7XG5pbXBvcnQgJ2xvZGFzaC9vbWl0LmpzJztcbmltcG9ydCAnbG9kYXNoL2lzTnVtYmVyLmpzJztcbmltcG9ydCAnbG9kYXNoL2lzU3RyaW5nLmpzJztcbmltcG9ydCAncmVhY3QtcngnO1xuaW1wb3J0IHsgU3ViamVjdCwgbWVyZ2UsIG9mLCBjb25jYXQsIGZyb21FdmVudCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgbWFwLCBkaXN0aW5jdFVudGlsQ2hhbmdlZCwgcHVibGlzaFJlcGxheSwgcmVmQ291bnQsIHN3aXRjaE1hcCwgc2hhcmUsIGRlbGF5LCB0YWtlVW50aWwsIHN0YXJ0V2l0aCwgY2F0Y2hFcnJvciwgdGFrZSwgbWVyZ2VNYXBUbywgc2NhbiwgZmlsdGVyIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IGRlZXBDb21wYXJlIGZyb20gJ3JlYWN0LWZhc3QtY29tcGFyZSc7XG5jb25zdCBQQVJUSUFMX1BBR0VfTElNSVQgPSAxMDA7XG5jb25zdCBGVUxMX0xJU1RfTElNSVQgPSAyZTM7XG5jb25zdCBERUZBVUxUX09SREVSSU5HID0ge1xuICBieTogW3tcbiAgICBmaWVsZDogXCJfdXBkYXRlZEF0XCIsXG4gICAgZGlyZWN0aW9uOiBcImRlc2NcIlxuICB9XVxufTtcbmNvbnN0IEVNUFRZX1JFQ09SRCA9IHt9O1xuZnVuY3Rpb24gZ2V0RG9jdW1lbnRLZXkodmFsdWUsIGluZGV4KSB7XG4gIHJldHVybiB2YWx1ZS5faWQgPyBnZXRQdWJsaXNoZWRJZCh2YWx1ZS5faWQpIDogXCJpdGVtLVwiLmNvbmNhdChpbmRleCk7XG59XG5mdW5jdGlvbiByZW1vdmVQdWJsaXNoZWRXaXRoRHJhZnRzKGRvY3VtZW50cykge1xuICByZXR1cm4gY29sbGF0ZShkb2N1bWVudHMpLm1hcChlbnRyeSA9PiB7XG4gICAgY29uc3QgZG9jID0gZW50cnkuZHJhZnQgfHwgZW50cnkucHVibGlzaGVkO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5kb2MsXG4gICAgICBoYXNQdWJsaXNoZWQ6ICEhZW50cnkucHVibGlzaGVkLFxuICAgICAgaGFzRHJhZnQ6ICEhZW50cnkuZHJhZnRcbiAgICB9O1xuICB9KTtcbn1cbmNvbnN0IFJFX1RZUEVfTkFNRV9JTl9GSUxURVIgPSAvXFxiX3R5cGVcXHMqPT1cXHMqKFsnXCJdLio/WydcIl18XFwkLio/KD86XFxzfCQpKXxcXEIoWydcIl0uKj9bJ1wiXXxcXCQuKj8oPzpcXHN8JCkpXFxzKj09XFxzKl90eXBlXFxiLztcbmZ1bmN0aW9uIGdldFR5cGVOYW1lRnJvbVNpbmdsZVR5cGVGaWx0ZXIoZmlsdGVyKSB7XG4gIGxldCBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICBjb25zdCBtYXRjaGVzID0gZmlsdGVyLm1hdGNoKFJFX1RZUEVfTkFNRV9JTl9GSUxURVIpO1xuICBpZiAoIW1hdGNoZXMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBtYXRjaCA9IChtYXRjaGVzWzFdIHx8IG1hdGNoZXNbMl0pLnRyaW0oKS5yZXBsYWNlKC9eW1wiJ118W1wiJ10kL2csIFwiXCIpO1xuICBpZiAobWF0Y2hbMF0gPT09IFwiJFwiKSB7XG4gICAgY29uc3QgayA9IG1hdGNoLnNsaWNlKDEpO1xuICAgIGNvbnN0IHYgPSBwYXJhbXNba107XG4gICAgcmV0dXJuIHR5cGVvZiB2ID09PSBcInN0cmluZ1wiID8gdiA6IG51bGw7XG4gIH1cbiAgcmV0dXJuIG1hdGNoO1xufVxuZnVuY3Rpb24gaXNTaW1wbGVUeXBlRmlsdGVyKGZpbHRlcikge1xuICByZXR1cm4gL15fdHlwZVxccyo9PVxccypbJ1wiJF1cXHcrWydcIl0/XFxzKiQvLnRlc3QoZmlsdGVyLnRyaW0oKSk7XG59XG5mdW5jdGlvbiB0b09yZGVyQ2xhdXNlKG9yZGVyQnkpIHtcbiAgcmV0dXJuIG9yZGVyQnkubWFwKG9yZGVyaW5nID0+IFt3cmFwRmllbGRXaXRoRm4ob3JkZXJpbmcpLCAob3JkZXJpbmcuZGlyZWN0aW9uIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCldLm1hcChzdHIgPT4gc3RyLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpKS5qb2luKFwiLFwiKTtcbn1cbmZ1bmN0aW9uIHdyYXBGaWVsZFdpdGhGbihvcmRlcmluZykge1xuICByZXR1cm4gb3JkZXJpbmcubWFwV2l0aCA/IFwiXCIuY29uY2F0KG9yZGVyaW5nLm1hcFdpdGgsIFwiKFwiKS5jb25jYXQob3JkZXJpbmcuZmllbGQsIFwiKVwiKSA6IG9yZGVyaW5nLmZpZWxkO1xufVxuZnVuY3Rpb24gYXBwbHlPcmRlcmluZ0Z1bmN0aW9ucyhvcmRlciwgc2NoZW1hVHlwZSkge1xuICBjb25zdCBvcmRlckJ5ID0gb3JkZXIuYnkubWFwKGJ5ID0+IHtcbiAgICBpZiAoYnkubWFwV2l0aCkge1xuICAgICAgcmV0dXJuIGJ5O1xuICAgIH1cbiAgICBjb25zdCBmaWVsZFR5cGUgPSB0cnlSZXNvbHZlU2NoZW1hVHlwZUZvclBhdGgoc2NoZW1hVHlwZSwgYnkuZmllbGQpO1xuICAgIGlmICghZmllbGRUeXBlKSB7XG4gICAgICByZXR1cm4gYnk7XG4gICAgfVxuICAgIGlmIChmaWVsZEV4dGVuZHNUeXBlKGZpZWxkVHlwZSwgXCJkYXRldGltZVwiKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYnksXG4gICAgICAgIG1hcFdpdGg6IFwiZGF0ZVRpbWVcIlxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGZpZWxkVHlwZS5qc29uVHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYnksXG4gICAgICAgIG1hcFdpdGg6IFwibG93ZXJcIlxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGJ5O1xuICB9KTtcbiAgcmV0dXJuIG9yZGVyQnkuZXZlcnkoKGl0ZW0sIGluZGV4KSA9PiBpdGVtID09PSBvcmRlci5ieVtpbmRleF0pID8gb3JkZXIgOiB7XG4gICAgLi4ub3JkZXIsXG4gICAgYnk6IG9yZGVyQnlcbiAgfTtcbn1cbmZ1bmN0aW9uIHRyeVJlc29sdmVTY2hlbWFUeXBlRm9yUGF0aChiYXNlVHlwZSwgcGF0aCkge1xuICBjb25zdCBwYXRoU2VnbWVudHMgPSBQYXRoVXRpbHMuZnJvbVN0cmluZyhwYXRoKTtcbiAgbGV0IGN1cnJlbnQgPSBiYXNlVHlwZTtcbiAgZm9yIChjb25zdCBzZWdtZW50IG9mIHBhdGhTZWdtZW50cykge1xuICAgIGlmICghY3VycmVudCkge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZWdtZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBjdXJyZW50ID0gZ2V0RmllbGRUeXBlQnlOYW1lKGN1cnJlbnQsIHNlZ21lbnQpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IGlzQXJyYXlBY2Nlc3NvciA9IGlzS2V5U2VnbWVudChzZWdtZW50KSB8fCBpc0luZGV4U2VnbWVudChzZWdtZW50KTtcbiAgICBpZiAoIWlzQXJyYXlBY2Nlc3NvciB8fCBjdXJyZW50Lmpzb25UeXBlICE9PSBcImFycmF5XCIpIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGNvbnN0IFttZW1iZXJUeXBlLCBvdGhlclR5cGVdID0gY3VycmVudC5vZiB8fCBbXTtcbiAgICBpZiAob3RoZXJUeXBlIHx8ICFtZW1iZXJUeXBlKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICBpZiAoIWlzUmVmZXJlbmNlU2NoZW1hVHlwZShtZW1iZXJUeXBlKSkge1xuICAgICAgY3VycmVudCA9IG1lbWJlclR5cGU7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgW3JlZlR5cGUsIG90aGVyUmVmVHlwZV0gPSBtZW1iZXJUeXBlLnRvIHx8IFtdO1xuICAgIGlmIChvdGhlclJlZlR5cGUgfHwgIXJlZlR5cGUpIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGN1cnJlbnQgPSByZWZUeXBlO1xuICB9XG4gIHJldHVybiBjdXJyZW50O1xufVxuZnVuY3Rpb24gZ2V0RmllbGRUeXBlQnlOYW1lKHR5cGUsIGZpZWxkTmFtZSkge1xuICBpZiAoIShcImZpZWxkc1wiIGluIHR5cGUpKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBjb25zdCBmaWVsZFR5cGUgPSB0eXBlLmZpZWxkcy5maW5kKGZpZWxkID0+IGZpZWxkLm5hbWUgPT09IGZpZWxkTmFtZSk7XG4gIHJldHVybiBmaWVsZFR5cGUgPyBmaWVsZFR5cGUudHlwZSA6IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIGZpZWxkRXh0ZW5kc1R5cGUoZmllbGQsIG9mVHlwZSkge1xuICBsZXQgY3VycmVudCA9IGZpZWxkLnR5cGU7XG4gIHdoaWxlIChjdXJyZW50KSB7XG4gICAgaWYgKGN1cnJlbnQubmFtZSA9PT0gb2ZUeXBlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFjdXJyZW50LnR5cGUgJiYgY3VycmVudC5qc29uVHlwZSA9PT0gb2ZUeXBlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY3VycmVudCA9IGN1cnJlbnQudHlwZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBEb2N1bWVudExpc3RQYW5lQ29udGVudChwcm9wcykge1xuICBjb25zdCB7XG4gICAgY2hpbGRJdGVtSWQsXG4gICAgZXJyb3IsXG4gICAgZmlsdGVySXNTaW1wbGVUeXBlQ29udHJhaW50LFxuICAgIGZ1bGxMaXN0LFxuICAgIGlzQWN0aXZlLFxuICAgIGlzTG9hZGluZyxcbiAgICBpdGVtcyxcbiAgICBsYXlvdXQsXG4gICAgb25MaXN0Q2hhbmdlLFxuICAgIG9uUmV0cnksXG4gICAgc2hvd0ljb25zXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qgc2NoZW1hID0gdXNlU2NoZW1hKCk7XG4gIGNvbnN0IHtcbiAgICBjb2xsYXBzZWQ6IGxheW91dENvbGxhcHNlZFxuICB9ID0gdXNlUGFuZUxheW91dCgpO1xuICBjb25zdCB7XG4gICAgY29sbGFwc2VkLFxuICAgIGluZGV4XG4gIH0gPSB1c2VQYW5lKCk7XG4gIGNvbnN0IFtzaG91bGRSZW5kZXIsIHNldFNob3VsZFJlbmRlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbGxhcHNlZCkgcmV0dXJuIHZvaWQgMDtcbiAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0U2hvdWxkUmVuZGVyKHRydWUpO1xuICAgIH0sIDApO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIH07XG4gIH0sIFtjb2xsYXBzZWRdKTtcbiAgY29uc3QgcmVuZGVySXRlbSA9IHVzZUNhbGxiYWNrKGl0ZW0gPT4ge1xuICAgIGNvbnN0IHB1Ymxpc2hlZElkID0gZ2V0UHVibGlzaGVkSWQoaXRlbS5faWQpO1xuICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSBjaGlsZEl0ZW1JZCA9PT0gcHVibGlzaGVkSWQ7XG4gICAgY29uc3QgcHJlc3NlZCA9ICFpc0FjdGl2ZSAmJiBpc1NlbGVjdGVkO1xuICAgIGNvbnN0IHNlbGVjdGVkID0gaXNBY3RpdmUgJiYgaXNTZWxlY3RlZDtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFBhbmVJdGVtLCB7XG4gICAgICBpY29uOiBzaG93SWNvbnMgPT09IGZhbHNlID8gZmFsc2UgOiB2b2lkIDAsXG4gICAgICBpZDogcHVibGlzaGVkSWQsXG4gICAgICBwcmVzc2VkLFxuICAgICAgc2VsZWN0ZWQsXG4gICAgICBsYXlvdXQsXG4gICAgICBzY2hlbWFUeXBlOiBzY2hlbWEuZ2V0KGl0ZW0uX3R5cGUpLFxuICAgICAgdmFsdWU6IGl0ZW1cbiAgICB9KTtcbiAgfSwgW2NoaWxkSXRlbUlkLCBpc0FjdGl2ZSwgbGF5b3V0LCBzY2hlbWEsIHNob3dJY29uc10pO1xuICBjb25zdCBjb250ZW50ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKCFzaG91bGRSZW5kZXIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goRmxleCwge1xuICAgICAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgZGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICBoZWlnaHQ6IFwiZmlsbFwiLFxuICAgICAgICBqdXN0aWZ5OiBcImNlbnRlclwiLFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KENvbnRhaW5lciwge1xuICAgICAgICAgIHdpZHRoOiAxLFxuICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3hzKFN0YWNrLCB7XG4gICAgICAgICAgICBwYWRkaW5nWDogNCxcbiAgICAgICAgICAgIHBhZGRpbmdZOiA1LFxuICAgICAgICAgICAgc3BhY2U6IDQsXG4gICAgICAgICAgICBjaGlsZHJlbjogWy8qIEBfX1BVUkVfXyAqL2pzeChIZWFkaW5nLCB7XG4gICAgICAgICAgICAgIGFzOiBcImgzXCIsXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBcIkNvdWxkIG5vdCBmZXRjaCBsaXN0IGl0ZW1zXCJcbiAgICAgICAgICAgIH0pLCAvKiBAX19QVVJFX18gKi9qc3hzKFRleHQsIHtcbiAgICAgICAgICAgICAgYXM6IFwicFwiLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogW1wiRXJyb3I6IFwiLCAvKiBAX19QVVJFX18gKi9qc3goXCJjb2RlXCIsIHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgICB9KV1cbiAgICAgICAgICAgIH0pLCBvblJldHJ5ICYmIC8qIEBfX1BVUkVfXyAqL2pzeChCb3gsIHtcbiAgICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeChCdXR0b24sIHtcbiAgICAgICAgICAgICAgICBpY29uOiBTeW5jSWNvbixcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiBvblJldHJ5LFxuICAgICAgICAgICAgICAgIHRleHQ6IFwiUmV0cnlcIixcbiAgICAgICAgICAgICAgICB0b25lOiBcInByaW1hcnlcIlxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSldXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaXRlbXMgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goRmxleCwge1xuICAgICAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgZGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICBoZWlnaHQ6IFwiZmlsbFwiLFxuICAgICAgICBqdXN0aWZ5OiBcImNlbnRlclwiLFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KERlbGF5LCB7XG4gICAgICAgICAgbXM6IDMwMCxcbiAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4cyhGcmFnbWVudCwge1xuICAgICAgICAgICAgY2hpbGRyZW46IFsvKiBAX19QVVJFX18gKi9qc3goU3Bpbm5lciwge1xuICAgICAgICAgICAgICBtdXRlZDogdHJ1ZVxuICAgICAgICAgICAgfSksIC8qIEBfX1BVUkVfXyAqL2pzeChCb3gsIHtcbiAgICAgICAgICAgICAgbWFyZ2luVG9wOiAzLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KFRleHQsIHtcbiAgICAgICAgICAgICAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBtdXRlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaXplOiAxLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBcIkxvYWRpbmcgZG9jdW1lbnRzXFx1MjAyNlwiXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KV1cbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghaXNMb2FkaW5nICYmIGl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChGbGV4LCB7XG4gICAgICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICBkaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgIGhlaWdodDogXCJmaWxsXCIsXG4gICAgICAgIGp1c3RpZnk6IFwiY2VudGVyXCIsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3goQ29udGFpbmVyLCB7XG4gICAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeChCb3gsIHtcbiAgICAgICAgICAgIHBhZGRpbmdYOiA0LFxuICAgICAgICAgICAgcGFkZGluZ1k6IDUsXG4gICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KFRleHQsIHtcbiAgICAgICAgICAgICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgIG11dGVkOiB0cnVlLFxuICAgICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogZmlsdGVySXNTaW1wbGVUeXBlQ29udHJhaW50ID8gXCJObyBkb2N1bWVudHMgb2YgdGhpcyB0eXBlXCIgOiBcIk5vIG1hdGNoaW5nIGRvY3VtZW50c1wiXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgaGFzTW9yZUl0ZW1zID0gZnVsbExpc3QgJiYgaXRlbXMubGVuZ3RoID09PSBGVUxMX0xJU1RfTElNSVQ7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeHMoQm94LCB7XG4gICAgICBwYWRkaW5nOiAyLFxuICAgICAgY2hpbGRyZW46IFtpdGVtcy5sZW5ndGggPiAwICYmIC8qIEBfX1BVUkVfXyAqL2pzeChWaXJ0dWFsTGlzdCwge1xuICAgICAgICBnYXA6IDEsXG4gICAgICAgIGdldEl0ZW1LZXk6IGdldERvY3VtZW50S2V5LFxuICAgICAgICBpdGVtcyxcbiAgICAgICAgcmVuZGVySXRlbSxcbiAgICAgICAgb25DaGFuZ2U6IG9uTGlzdENoYW5nZVxuICAgICAgfSwgXCJcIi5jb25jYXQoaW5kZXgsIFwiLVwiKS5jb25jYXQoY29sbGFwc2VkKSksIGlzTG9hZGluZyAmJiAvKiBAX19QVVJFX18gKi9qc3goQ2FyZCwge1xuICAgICAgICBib3JkZXJUb3A6IHRydWUsXG4gICAgICAgIG1hcmdpblRvcDogMSxcbiAgICAgICAgcGFkZGluZ1g6IDMsXG4gICAgICAgIHBhZGRpbmdZOiA0LFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KFRleHQsIHtcbiAgICAgICAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICBtdXRlZDogdHJ1ZSxcbiAgICAgICAgICBzaXplOiAxLFxuICAgICAgICAgIGNoaWxkcmVuOiBcIkxvYWRpbmdcXHUyMDI2XCJcbiAgICAgICAgfSlcbiAgICAgIH0pLCBoYXNNb3JlSXRlbXMgJiYgLyogQF9fUFVSRV9fICovanN4KENhcmQsIHtcbiAgICAgICAgbWFyZ2luVG9wOiAxLFxuICAgICAgICBwYWRkaW5nWDogMyxcbiAgICAgICAgcGFkZGluZ1k6IDQsXG4gICAgICAgIHJhZGl1czogMixcbiAgICAgICAgdG9uZTogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4cyhUZXh0LCB7XG4gICAgICAgICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgICAgbXV0ZWQ6IHRydWUsXG4gICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICBjaGlsZHJlbjogW1wiRGlzcGxheWluZyBhIG1heGltdW0gb2YgXCIsIEZVTExfTElTVF9MSU1JVCwgXCIgZG9jdW1lbnRzXCJdXG4gICAgICAgIH0pXG4gICAgICB9KV1cbiAgICB9KTtcbiAgfSwgW2Vycm9yLCBmaWx0ZXJJc1NpbXBsZVR5cGVDb250cmFpbnQsIGZ1bGxMaXN0LCBvbkxpc3RDaGFuZ2UsIGlzTG9hZGluZywgaXRlbXMsIG9uUmV0cnksIHJlbmRlckl0ZW0sIHNob3VsZFJlbmRlciwgY29sbGFwc2VkLCBpbmRleF0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFBhbmVDb250ZW50LCB7XG4gICAgb3ZlcmZsb3c6IGxheW91dENvbGxhcHNlZCA/IHZvaWQgMCA6IFwiYXV0b1wiLFxuICAgIGNoaWxkcmVuOiBjb250ZW50XG4gIH0pO1xufVxuY29uc3QgRG9jdW1lbnRMaXN0UGFuZUhlYWRlciA9IG1lbW8oX3JlZiA9PiB7XG4gIGxldCB7XG4gICAgaW5kZXgsXG4gICAgaW5pdGlhbFZhbHVlVGVtcGxhdGVzID0gW10sXG4gICAgbWVudUl0ZW1zID0gW10sXG4gICAgbWVudUl0ZW1Hcm91cHMgPSBbXSxcbiAgICBzZXRMYXlvdXQsXG4gICAgc2V0U29ydE9yZGVyLFxuICAgIHRpdGxlXG4gIH0gPSBfcmVmO1xuICBjb25zdCB7XG4gICAgZmVhdHVyZXNcbiAgfSA9IHVzZURlc2tUb29sKCk7XG4gIGNvbnN0IGFjdGlvbkhhbmRsZXJzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNldExheW91dDogX3JlZjIgPT4ge1xuICAgICAgICBsZXQge1xuICAgICAgICAgIGxheW91dDogdmFsdWVcbiAgICAgICAgfSA9IF9yZWYyO1xuICAgICAgICBzZXRMYXlvdXQodmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHNldFNvcnRPcmRlcjogc29ydCA9PiB7XG4gICAgICAgIHNldFNvcnRPcmRlcihzb3J0KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbc2V0TGF5b3V0LCBzZXRTb3J0T3JkZXJdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChQYW5lSGVhZGVyLCB7XG4gICAgYmFja0J1dHRvbjogZmVhdHVyZXMuYmFja0J1dHRvbiAmJiBpbmRleCA+IDAgJiYgLyogQF9fUFVSRV9fICovanN4KEJ1dHRvbiwge1xuICAgICAgYXM6IEJhY2tMaW5rLFxuICAgICAgXCJkYXRhLWFzXCI6IFwiYVwiLFxuICAgICAgaWNvbjogQXJyb3dMZWZ0SWNvbixcbiAgICAgIG1vZGU6IFwiYmxlZWRcIlxuICAgIH0pLFxuICAgIHRpdGxlLFxuICAgIGFjdGlvbnM6IC8qIEBfX1BVUkVfXyAqL2pzeChQYW5lSGVhZGVyQWN0aW9ucywge1xuICAgICAgaW5pdGlhbFZhbHVlVGVtcGxhdGVJdGVtczogaW5pdGlhbFZhbHVlVGVtcGxhdGVzLFxuICAgICAgYWN0aW9uSGFuZGxlcnMsXG4gICAgICBtZW51SXRlbUdyb3VwcyxcbiAgICAgIG1lbnVJdGVtc1xuICAgIH0pXG4gIH0pO1xufSk7XG5Eb2N1bWVudExpc3RQYW5lSGVhZGVyLmRpc3BsYXlOYW1lID0gXCJEb2N1bWVudExpc3RQYW5lSGVhZGVyXCI7XG5jb25zdCBJTklUSUFMX0NISUxEX1BST1BTID0ge1xuICByZXN1bHQ6IG51bGwsXG4gIGVycm9yOiBmYWxzZVxufTtcbmNvbnN0IGNyZWF0ZVJlc3VsdENoaWxkUHJvcHMgPSBkb2N1bWVudHMgPT4gKHtcbiAgcmVzdWx0OiB7XG4gICAgZG9jdW1lbnRzXG4gIH0sXG4gIGxvYWRpbmc6IGZhbHNlLFxuICBlcnJvcjogZmFsc2Vcbn0pO1xuY29uc3QgY3JlYXRlRXJyb3JDaGlsZFByb3BzID0gZXJyb3IgPT4gKHtcbiAgcmVzdWx0OiBudWxsLFxuICBsb2FkaW5nOiBmYWxzZSxcbiAgZXJyb3Jcbn0pO1xuY29uc3QgZ2V0UXVlcnlSZXN1bHRzID0gZnVuY3Rpb24gKHJlY2VpdmVkUHJvcHMkKSB7XG4gIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgY29uc3Qgb25SZXRyeSQgPSBuZXcgU3ViamVjdCgpO1xuICBjb25zdCBvblJldHJ5ID0gb25SZXRyeSQubmV4dC5iaW5kKG9uUmV0cnkkKTtcbiAgY29uc3QgcXVlcnlQcm9wcyQgPSByZWNlaXZlZFByb3BzJC5waXBlKG1hcChwcm9wcyA9PiAoe1xuICAgIGNsaWVudDogcHJvcHMuY2xpZW50LFxuICAgIHF1ZXJ5OiBwcm9wcy5xdWVyeSxcbiAgICBwYXJhbXM6IHByb3BzLnBhcmFtc1xuICB9KSksIGRpc3RpbmN0VW50aWxDaGFuZ2VkKGRlZXBDb21wYXJlKSwgcHVibGlzaFJlcGxheSgxKSwgcmVmQ291bnQoKSk7XG4gIGNvbnN0IHF1ZXJ5UmVzdWx0cyQgPSBxdWVyeVByb3BzJC5waXBlKHN3aXRjaE1hcChxdWVyeVByb3BzID0+IHtcbiAgICBjb25zdCBxdWVyeSQgPSBsaXN0ZW5RdWVyeShxdWVyeVByb3BzLmNsaWVudCwgcXVlcnlQcm9wcy5xdWVyeSwgcXVlcnlQcm9wcy5wYXJhbXMsIG9wdGlvbnMpLnBpcGUobWFwKGNyZWF0ZVJlc3VsdENoaWxkUHJvcHMpLCBzaGFyZSgpKTtcbiAgICByZXR1cm4gbWVyZ2Uob2Yoe1xuICAgICAgbG9hZGluZzogdHJ1ZVxuICAgIH0pLnBpcGUoZGVsYXkoNDAwKSwgdGFrZVVudGlsKHF1ZXJ5JCkpLCBxdWVyeSQpO1xuICB9KSk7XG4gIHJldHVybiBxdWVyeVJlc3VsdHMkLnBpcGUoc3RhcnRXaXRoKElOSVRJQUxfQ0hJTERfUFJPUFMpLCBjYXRjaEVycm9yKChlcnIsIGNhdWdodCQpID0+IGNvbmNhdChvZihjcmVhdGVFcnJvckNoaWxkUHJvcHMoZXJyKSksIG1lcmdlKGZyb21FdmVudCh3aW5kb3csIFwib25saW5lXCIpLCBvblJldHJ5JCkucGlwZSh0YWtlKDEpLCBtZXJnZU1hcFRvKGNhdWdodCQpKSkpLCBzY2FuKChwcmV2LCBuZXh0KSA9PiAoe1xuICAgIC4uLnByZXYsXG4gICAgLi4ubmV4dCxcbiAgICBvblJldHJ5XG4gIH0pKSk7XG59O1xuZnVuY3Rpb24gdXNlRG9jdW1lbnRMaXN0KG9wdHMpIHtcbiAgdmFyIF9hO1xuICBjb25zdCB7XG4gICAgYXBpVmVyc2lvbixcbiAgICBmaWx0ZXI6IGZpbHRlciQxLFxuICAgIHBhcmFtcyxcbiAgICBzb3J0T3JkZXJcbiAgfSA9IG9wdHM7XG4gIGNvbnN0IGNsaWVudCA9IHVzZUNsaWVudChERUZBVUxUX1NUVURJT19DTElFTlRfT1BUSU9OUyk7XG4gIGNvbnN0IFtmdWxsTGlzdCwgc2V0RnVsbExpc3RdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBmdWxsTGlzdFJlZiA9IHVzZVJlZihmdWxsTGlzdCk7XG4gIGNvbnN0IFtyZXN1bHQsIHNldFJlc3VsdF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgZXJyb3IgPSAocmVzdWx0ID09IG51bGwgPyB2b2lkIDAgOiByZXN1bHQuZXJyb3IpIHx8IG51bGw7XG4gIGNvbnN0IGlzTG9hZGluZyA9IChyZXN1bHQgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc3VsdC5sb2FkaW5nKSB8fCByZXN1bHQgPT09IG51bGw7XG4gIGNvbnN0IG9uUmV0cnkgPSByZXN1bHQgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc3VsdC5vblJldHJ5O1xuICBjb25zdCBkb2N1bWVudHMgPSAoX2EgPSByZXN1bHQgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc3VsdC5yZXN1bHQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5kb2N1bWVudHM7XG4gIGNvbnN0IGl0ZW1zID0gdXNlTWVtbygoKSA9PiBkb2N1bWVudHMgPyByZW1vdmVQdWJsaXNoZWRXaXRoRHJhZnRzKGRvY3VtZW50cykgOiBudWxsLCBbZG9jdW1lbnRzXSk7XG4gIGNvbnN0IHF1ZXJ5ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgZXh0ZW5kZWRQcm9qZWN0aW9uID0gc29ydE9yZGVyID09IG51bGwgPyB2b2lkIDAgOiBzb3J0T3JkZXIuZXh0ZW5kZWRQcm9qZWN0aW9uO1xuICAgIGNvbnN0IHByb2plY3Rpb25GaWVsZHMgPSBbXCJfaWRcIiwgXCJfdHlwZVwiXTtcbiAgICBjb25zdCBmaW5hbFByb2plY3Rpb24gPSBwcm9qZWN0aW9uRmllbGRzLmpvaW4oXCIsXCIpO1xuICAgIGNvbnN0IHNvcnRCeSA9IChzb3J0T3JkZXIgPT0gbnVsbCA/IHZvaWQgMCA6IHNvcnRPcmRlci5ieSkgfHwgW107XG4gICAgY29uc3QgbGltaXQgPSBmdWxsTGlzdCA/IEZVTExfTElTVF9MSU1JVCA6IFBBUlRJQUxfUEFHRV9MSU1JVDtcbiAgICBjb25zdCBzb3J0ID0gc29ydEJ5Lmxlbmd0aCA+IDAgPyBzb3J0QnkgOiBERUZBVUxUX09SREVSSU5HLmJ5O1xuICAgIGNvbnN0IG9yZGVyID0gdG9PcmRlckNsYXVzZShzb3J0KTtcbiAgICBpZiAoZXh0ZW5kZWRQcm9qZWN0aW9uKSB7XG4gICAgICBjb25zdCBmaXJzdFByb2plY3Rpb24gPSBwcm9qZWN0aW9uRmllbGRzLmNvbmNhdChleHRlbmRlZFByb2plY3Rpb24pLmpvaW4oXCIsXCIpO1xuICAgICAgcmV0dXJuIFtcIipbXCIuY29uY2F0KGZpbHRlciQxLCBcIl0ge1wiKS5jb25jYXQoZmlyc3RQcm9qZWN0aW9uLCBcIn1cIiksIFwib3JkZXIoXCIuY29uY2F0KG9yZGVyLCBcIikgWzAuLi5cIikuY29uY2F0KGxpbWl0LCBcIl1cIiksIFwie1wiLmNvbmNhdChmaW5hbFByb2plY3Rpb24sIFwifVwiKV0uam9pbihcInxcIik7XG4gICAgfVxuICAgIHJldHVybiBcIipbXCIuY29uY2F0KGZpbHRlciQxLCBcIl18b3JkZXIoXCIpLmNvbmNhdChvcmRlciwgXCIpWzAuLi5cIikuY29uY2F0KGxpbWl0LCBcIl17XCIpLmNvbmNhdChmaW5hbFByb2plY3Rpb24sIFwifVwiKTtcbiAgfSwgW2ZpbHRlciQxLCBmdWxsTGlzdCwgc29ydE9yZGVyXSk7XG4gIGNvbnN0IGhhbmRsZUxpc3RDaGFuZ2UgPSB1c2VDYWxsYmFjayhfcmVmMyA9PiB7XG4gICAgbGV0IHtcbiAgICAgIHRvSW5kZXhcbiAgICB9ID0gX3JlZjM7XG4gICAgaWYgKGlzTG9hZGluZyB8fCBmdWxsTGlzdFJlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0b0luZGV4ID49IFBBUlRJQUxfUEFHRV9MSU1JVCAvIDIpIHtcbiAgICAgIHNldEZ1bGxMaXN0KHRydWUpO1xuICAgICAgZnVsbExpc3RSZWYuY3VycmVudCA9IHRydWU7XG4gICAgfVxuICB9LCBbaXNMb2FkaW5nXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZmlsdGVyRm4gPSBmdWxsTGlzdCA/IHF1ZXJ5UmVzdWx0ID0+IEJvb2xlYW4ocXVlcnlSZXN1bHQucmVzdWx0KSA6ICgpID0+IHRydWU7XG4gICAgc2V0UmVzdWx0KHIgPT4gciA/IHtcbiAgICAgIC4uLnIsXG4gICAgICBsb2FkaW5nOiB0cnVlXG4gICAgfSA6IG51bGwpO1xuICAgIGNvbnN0IHF1ZXJ5UmVzdWx0cyQgPSBnZXRRdWVyeVJlc3VsdHMob2Yoe1xuICAgICAgY2xpZW50LFxuICAgICAgcXVlcnksXG4gICAgICBwYXJhbXNcbiAgICB9KSwge1xuICAgICAgYXBpVmVyc2lvbixcbiAgICAgIHRhZzogXCJkZXNrLmRvY3VtZW50LWxpc3RcIlxuICAgIH0pLnBpcGUoZmlsdGVyKGZpbHRlckZuKSk7XG4gICAgY29uc3Qgc3ViID0gcXVlcnlSZXN1bHRzJC5zdWJzY3JpYmUoc2V0UmVzdWx0KTtcbiAgICByZXR1cm4gKCkgPT4gc3ViLnVuc3Vic2NyaWJlKCk7XG4gIH0sIFthcGlWZXJzaW9uLCBjbGllbnQsIGZ1bGxMaXN0LCBxdWVyeSwgcGFyYW1zXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0UmVzdWx0KG51bGwpO1xuICAgIHNldEZ1bGxMaXN0KGZhbHNlKTtcbiAgICBmdWxsTGlzdFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gIH0sIFtmaWx0ZXIkMSwgcGFyYW1zLCBzb3J0T3JkZXIsIGFwaVZlcnNpb25dKTtcbiAgcmV0dXJuIHtcbiAgICBlcnJvcixcbiAgICBmdWxsTGlzdCxcbiAgICBoYW5kbGVMaXN0Q2hhbmdlLFxuICAgIGlzTG9hZGluZyxcbiAgICBpdGVtcyxcbiAgICBvblJldHJ5XG4gIH07XG59XG5jb25zdCBFTVBUWV9BUlJBWSA9IFtdO1xuZnVuY3Rpb24gdXNlU2hhbGxvd1VuaXF1ZSh2YWx1ZSkge1xuICBjb25zdCB2YWx1ZVJlZiA9IHVzZVJlZih2YWx1ZSk7XG4gIGlmICghc2hhbGxvd0VxdWFscyh2YWx1ZVJlZi5jdXJyZW50LCB2YWx1ZSkpIHtcbiAgICB2YWx1ZVJlZi5jdXJyZW50ID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHZhbHVlUmVmLmN1cnJlbnQ7XG59XG5jb25zdCBhZGRTZWxlY3RlZFN0YXRlVG9NZW51SXRlbXMgPSBvcHRpb25zID0+IHtcbiAgY29uc3Qge1xuICAgIG1lbnVJdGVtcyxcbiAgICBzb3J0T3JkZXJSYXcsXG4gICAgbGF5b3V0XG4gIH0gPSBvcHRpb25zO1xuICByZXR1cm4gbWVudUl0ZW1zID09IG51bGwgPyB2b2lkIDAgOiBtZW51SXRlbXMubWFwKGl0ZW0gPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBpZiAoKF9hID0gaXRlbS5wYXJhbXMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5sYXlvdXQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLml0ZW0sXG4gICAgICAgIHNlbGVjdGVkOiBsYXlvdXQgPT09ICgoX2IgPSBpdGVtLnBhcmFtcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmxheW91dClcbiAgICAgIH07XG4gICAgfVxuICAgIGlmICgoX2MgPSBpdGVtID09IG51bGwgPyB2b2lkIDAgOiBpdGVtLnBhcmFtcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmJ5KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5pdGVtLFxuICAgICAgICBzZWxlY3RlZDogaXNFcXVhbChzb3J0T3JkZXJSYXcgPT0gbnVsbCA/IHZvaWQgMCA6IHNvcnRPcmRlclJhdy5ieSwgKChfZCA9IGl0ZW0gPT0gbnVsbCA/IHZvaWQgMCA6IGl0ZW0ucGFyYW1zKSA9PSBudWxsID8gdm9pZCAwIDogX2QuYnkpIHx8IEVNUFRZX0FSUkFZKVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLml0ZW0sXG4gICAgICBzZWxlY3RlZDogZmFsc2VcbiAgICB9O1xuICB9KTtcbn07XG5jb25zdCBEb2N1bWVudExpc3RQYW5lID0gbWVtbyhmdW5jdGlvbiBEb2N1bWVudExpc3RQYW5lMihwcm9wcykge1xuICBjb25zdCB7XG4gICAgY2hpbGRJdGVtSWQsXG4gICAgaW5kZXgsXG4gICAgaXNBY3RpdmUsXG4gICAgaXNTZWxlY3RlZCxcbiAgICBwYW5lLFxuICAgIHBhbmVLZXlcbiAgfSA9IHByb3BzO1xuICBjb25zdCBzY2hlbWEgPSB1c2VTY2hlbWEoKTtcbiAgY29uc3Qge1xuICAgIG5hbWU6IHBhcmVudFNvdXJjZU5hbWVcbiAgfSA9IHVzZVNvdXJjZSgpO1xuICBjb25zdCB7XG4gICAgZGVmYXVsdExheW91dCA9IFwiZGVmYXVsdFwiLFxuICAgIGRpc3BsYXlPcHRpb25zLFxuICAgIGluaXRpYWxWYWx1ZVRlbXBsYXRlcyA9IEVNUFRZX0FSUkFZLFxuICAgIG1lbnVJdGVtcyxcbiAgICBtZW51SXRlbUdyb3VwcyxcbiAgICBvcHRpb25zLFxuICAgIHRpdGxlXG4gIH0gPSBwYW5lO1xuICBjb25zdCB7XG4gICAgYXBpVmVyc2lvbixcbiAgICBkZWZhdWx0T3JkZXJpbmcgPSBFTVBUWV9BUlJBWSxcbiAgICBmaWx0ZXJcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHBhcmFtcyA9IHVzZVNoYWxsb3dVbmlxdWUob3B0aW9ucy5wYXJhbXMgfHwgRU1QVFlfUkVDT1JEKTtcbiAgY29uc3Qgc291cmNlTmFtZSA9IHBhbmUuc291cmNlO1xuICBjb25zdCB0eXBlTmFtZSA9IHVzZU1lbW8oKCkgPT4gZ2V0VHlwZU5hbWVGcm9tU2luZ2xlVHlwZUZpbHRlcihmaWx0ZXIsIHBhcmFtcyksIFtmaWx0ZXIsIHBhcmFtc10pO1xuICBjb25zdCBzaG93SWNvbnMgPSAoZGlzcGxheU9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGRpc3BsYXlPcHRpb25zLnNob3dJY29ucykgIT09IGZhbHNlO1xuICBjb25zdCBbbGF5b3V0LCBzZXRMYXlvdXRdID0gdXNlRGVza1Rvb2xTZXR0aW5nKHR5cGVOYW1lLCBcImxheW91dFwiLCBkZWZhdWx0TGF5b3V0KTtcbiAgY29uc3QgZGVmYXVsdFNvcnRPcmRlciA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiAoZGVmYXVsdE9yZGVyaW5nID09IG51bGwgPyB2b2lkIDAgOiBkZWZhdWx0T3JkZXJpbmcubGVuZ3RoKSA+IDAgPyB7XG4gICAgICBieTogZGVmYXVsdE9yZGVyaW5nXG4gICAgfSA6IERFRkFVTFRfT1JERVJJTkc7XG4gIH0sIFtkZWZhdWx0T3JkZXJpbmddKTtcbiAgY29uc3QgW3NvcnRPcmRlclJhdywgc2V0U29ydE9yZGVyXSA9IHVzZURlc2tUb29sU2V0dGluZyh0eXBlTmFtZSwgXCJzb3J0T3JkZXJcIiwgZGVmYXVsdFNvcnRPcmRlcik7XG4gIGNvbnN0IHNvcnRXaXRoT3JkZXJpbmdGbiA9IHR5cGVOYW1lICYmIHNvcnRPcmRlclJhdyA/IGFwcGx5T3JkZXJpbmdGdW5jdGlvbnMoc29ydE9yZGVyUmF3LCBzY2hlbWEuZ2V0KHR5cGVOYW1lKSkgOiBzb3J0T3JkZXJSYXc7XG4gIGNvbnN0IHNvcnRPcmRlciA9IHVzZVVuaXF1ZShzb3J0V2l0aE9yZGVyaW5nRm4pO1xuICBjb25zdCBmaWx0ZXJJc1NpbXBsZVR5cGVDb250cmFpbnQgPSBpc1NpbXBsZVR5cGVGaWx0ZXIoZmlsdGVyKTtcbiAgY29uc3Qge1xuICAgIGVycm9yLFxuICAgIGZ1bGxMaXN0LFxuICAgIGhhbmRsZUxpc3RDaGFuZ2UsXG4gICAgaXNMb2FkaW5nLFxuICAgIGl0ZW1zLFxuICAgIG9uUmV0cnlcbiAgfSA9IHVzZURvY3VtZW50TGlzdCh7XG4gICAgZmlsdGVyLFxuICAgIHBhcmFtcyxcbiAgICBzb3J0T3JkZXIsXG4gICAgYXBpVmVyc2lvblxuICB9KTtcbiAgY29uc3QgbWVudUl0ZW1zV2l0aFNlbGVjdGVkU3RhdGUgPSB1c2VNZW1vKCgpID0+IGFkZFNlbGVjdGVkU3RhdGVUb01lbnVJdGVtcyh7XG4gICAgbWVudUl0ZW1zLFxuICAgIHNvcnRPcmRlclJhdyxcbiAgICBsYXlvdXRcbiAgfSksIFtsYXlvdXQsIG1lbnVJdGVtcywgc29ydE9yZGVyUmF3XSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goU291cmNlUHJvdmlkZXIsIHtcbiAgICBuYW1lOiBzb3VyY2VOYW1lIHx8IHBhcmVudFNvdXJjZU5hbWUsXG4gICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeHMoUGFuZSwge1xuICAgICAgY3VycmVudE1heFdpZHRoOiAzNTAsXG4gICAgICBpZDogcGFuZUtleSxcbiAgICAgIG1heFdpZHRoOiA2NDAsXG4gICAgICBtaW5XaWR0aDogMzIwLFxuICAgICAgc2VsZWN0ZWQ6IGlzU2VsZWN0ZWQsXG4gICAgICBjaGlsZHJlbjogW19ERUJVRywgLyogQF9fUFVSRV9fICovanN4KERvY3VtZW50TGlzdFBhbmVIZWFkZXIsIHtcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIGluaXRpYWxWYWx1ZVRlbXBsYXRlcyxcbiAgICAgICAgbWVudUl0ZW1zOiBtZW51SXRlbXNXaXRoU2VsZWN0ZWRTdGF0ZSxcbiAgICAgICAgbWVudUl0ZW1Hcm91cHMsXG4gICAgICAgIHNldExheW91dCxcbiAgICAgICAgc2V0U29ydE9yZGVyLFxuICAgICAgICB0aXRsZVxuICAgICAgfSksIC8qIEBfX1BVUkVfXyAqL2pzeChEb2N1bWVudExpc3RQYW5lQ29udGVudCwge1xuICAgICAgICBjaGlsZEl0ZW1JZCxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIGZpbHRlcklzU2ltcGxlVHlwZUNvbnRyYWludCxcbiAgICAgICAgZnVsbExpc3QsXG4gICAgICAgIGlzQWN0aXZlLFxuICAgICAgICBpc0xvYWRpbmcsXG4gICAgICAgIGl0ZW1zLFxuICAgICAgICBsYXlvdXQsXG4gICAgICAgIG9uTGlzdENoYW5nZTogaGFuZGxlTGlzdENoYW5nZSxcbiAgICAgICAgb25SZXRyeSxcbiAgICAgICAgc2hvd0ljb25zXG4gICAgICB9KV1cbiAgICB9KVxuICB9KTtcbn0pO1xuZXhwb3J0IHsgRG9jdW1lbnRMaXN0UGFuZSBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC1kOGNhYzUyYy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-client)/./node_modules/sanity/lib/_chunks/index-d8cac52c.js\n"));

/***/ })

}]);